<div class="sidebar">
  <h3>Filters</h3>
  <%= form_with url: products_path, method: :get, local: true do |f| %>
    <div class="form-group">
      <%= f.text_field :query, value: params[:query], placeholder: "Search products..." %>
    </div>
    <div class="form-group">
      <%= f.select :category_id, options_for_select(Category.all.map { |c| [c.name, c.id] }, params[:category_id]), include_blank: "All Categories" %>
    </div>
    <div class="form-group">
      <%= f.submit "Search" %>
    </div>
  <% end %>

  <hr>
  <h3>Category</h3>
  <div class="categories">
    <ul>
      <li>
        <%= link_to "New Arrival", products_path(filter: 'new'), class: (params[:filter] == 'new' ? 'active' : '') %>
      </li>
      <li>
        <%= link_to "On Sale", products_path(filter: 'on_sale'), class: (params[:filter] == 'on_sale' ? 'active' : '') %>
      </li>
      <li>
        <%= link_to "Recently Updated", products_path(filter: 'recently_updated'), class: (params[:filter] == 'recently_updated' ? 'active' : '') %>
      </li>
    </ul>
  </div>
</div>
